import{a as _,b as c,c as w,d as y,e as M,g as F,h as E,k as N,l as P}from"./chunk-ARIDZIK2.js";import{a as S}from"./chunk-2AH2GO2V.js";import{c as C}from"./chunk-HMUL3P6E.js";import"./chunk-H62LFW3Q.js";import"./chunk-OY52ZBXF.js";import{Eb as m,Fb as v,Ha as s,Ma as d,Sa as u,Wa as f,ec as x,fc as h,nb as l,ob as i,pb as e,qb as p,vb as g,wb as b}from"./chunk-LRGIQW6J.js";function O(n,r){if(n&1&&(i(0,"p",10),m(1),e()),n&2){let I=b();s(),v(I.error)}}var z=(()=>{let r=class r{constructor(a,t,o){this.fb=a,this.authService=t,this.router=o,this.error=null,this.loginForm=this.fb.group({username:["",c.required],password:["",c.required]})}onSubmit(){if(this.loginForm.valid){let{username:a,password:t}=this.loginForm.value;this.authService.login(a,t).subscribe({next:()=>this.router.navigate(["/home/admin/dashboard"]),error:o=>this.error=o.error?.error||"Login failed"})}}};r.\u0275fac=function(t){return new(t||r)(d(N),d(S),d(C))},r.\u0275cmp=u({type:r,selectors:[["app-admin"]],decls:16,vars:3,consts:[[1,"page","hentry"],[1,"login-box"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),m(3,"Admin Login"),e(),i(4,"form",2),g("ngSubmit",function(){return o.onSubmit()}),i(5,"div",3)(6,"label",4),m(7,"Username"),e(),p(8,"input",5),e(),i(9,"div",3)(10,"label",6),m(11,"Password"),e(),p(12,"input",7),e(),i(13,"button",8),m(14,"Login"),e(),f(15,O,2,1,"p",9),e()()()),t&2&&(s(4),l("formGroup",o.loginForm),s(9),l("disabled",o.loginForm.invalid),s(2),l("ngIf",o.error))},dependencies:[h,x,P,M,_,w,y,F,E],styles:[".login-box[_ngcontent-%COMP%]{width:280px;position:relative;color:#191970}.login-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;border-bottom:4px solid #191970;margin-bottom:50px;padding:13px}.form-group[_ngcontent-%COMP%]{margin:10px 0}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;font-size:18px;border-bottom:1px solid #191970}.btn-success[_ngcontent-%COMP%]{width:100%;padding:8px;background:#28a745;border:none;border-radius:6px;color:#fff;cursor:pointer}.error[_ngcontent-%COMP%]{color:red;margin-top:10px}"]});let n=r;return n})();export{z as AdminComponent};
